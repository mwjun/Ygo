<!-- 
    FILE: age-gate.html
    PURPOSE: Age verification page template
    This is the entry point of the application where users must verify they are 16+ years old.
    
    COMPONENT STRUCTURE:
    - app-page-container: Wrapper component with narrow width (600px max) - the white box container
    - app-header: Konami logo header (red bar at top)
    - content: Main content area containing the age verification form
    - app-age-form: Age verification form component (date of birth input)
    - app-footer: Footer with content rating image and version number
-->

<!-- Page container with narrow width (600px max) - this is the white box that contains all content -->
<app-page-container maxWidth="narrow">
    <!-- Konami logo header - red gradient bar at the top of the page -->
    <app-header></app-header>
    
    <!-- Main content area - contains the age verification form -->
    <div class="content">
        <!-- 
            Informational message - shown when user has already been denied access
            Explains why they cannot proceed and when they can retry
        -->
        <div *ngIf="hasBeenDenied" class="denial-message">
            <h3>Access Previously Denied</h3>
            <p>You have already attempted to access this site, but access was denied because you must be 16 years or older to proceed.</p>
            <p>You will be able to try again after 2 hours, or you can clear your browser cookies to attempt again sooner.</p>
            <p class="note">The form below is disabled to prevent multiple attempts.</p>
        </div>
        
        <!-- 
            Age verification form component
            (ageVerified): Event handler called when user passes age verification (age >= 16)
            (ageRejected): Event handler called when user fails age verification (age < 16)
            [disabled]: Disables form submission if user has already been denied
        -->
        <app-age-form 
            [disabled]="hasBeenDenied"
            (ageVerified)="onAgeVerified()"
            (ageRejected)="onAgeRejected()">
        </app-age-form>
        
        <!-- COMMENTED OUT: Terms acceptance component (kept for future use) -->
        <!-- 
            Terms acceptance step was removed from the flow.
            Users now go directly from age verification to newsletter signup page.
            This component is kept commented out in case it's needed in the future.
        -->
        <!-- <app-terms-acceptance 
            *ngIf="showTermsAcceptance"
            (termsAccepted)="onTermsAccepted()"
            (termsDeclined)="onTermsDeclined()">
        </app-terms-acceptance> -->
    </div>
    
    <!-- 
        Footer component - displays content rating image and version number
        [contentRatingPath]: Dynamically bound to config content rating path
        Falls back to 'assets/img/cr-digital.png' if config is not available
    -->
    <app-footer [contentRatingPath]="config?.contentRatingPath || 'assets/img/cr-digital.png'"></app-footer>
</app-page-container>
